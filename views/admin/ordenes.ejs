<%- include('../partials/header') %>
<div class="container admin-panel fade-in">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2>Gestión de Órdenes</h2>
        <a href="/admin" class="btn" style="background: #777;">Volver</a>
    </div>

    <div class="table-responsive">
        <table class="admin-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Cliente</th>
                    <th>Fecha</th>
                    <th>Total</th>
                    <th>Estado</th>
                    <th>Acción</th>
                </tr>
            </thead>
            <tbody>
                <% ordenes.forEach(orden => { %>
                    <tr>
                        <td><strong>#<%= orden.id %></strong></td>
                        <td>
                            <%= orden.nombre %> <%= orden.apellido %><br>
                            <small style="color: #666;"><%= orden.ciudad %></small>
                        </td>
                        <td><%= new Date(orden.createdAt).toLocaleDateString() %></td>
                        <td style="font-weight: bold;">$<%= orden.total %></td>
                        <td>
                            <span style="padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; color: white; 
                                background: <%= orden.estado === 'completado' ? '#2ecc71' : (orden.estado === 'cancelado' ? '#e74c3c' : '#f1c40f') %>">
                                <%= orden.estado.toUpperCase() %>
                            </span>
                        </td>
                        <td>
                            <a href="/admin/ordenes/<%= orden.id %>" class="btn" style="padding: 5px 10px; background: var(--secondary); font-size: 0.8rem;">
                                <i class="fas fa-eye"></i> Ver Detalle
                            </a>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
</div>
<%- include('../partials/footer') %>